using TenistasAsync.Console.Services;

// ==================================================================================
// ğŸš€ EJEMPLO 06: ASYNC STREAMS - IAsyncEnumerable
// ==================================================================================

System.Console.WriteLine("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
System.Console.WriteLine("â•‘  ğŸŒŠ EJEMPLO ASYNC STREAMS - Java Streams â†’ IAsyncEnumerable       â•‘");
System.Console.WriteLine("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
System.Console.WriteLine();

var service = new TenistaAsyncService();

// ==================================================================================
// DEMO 1: ASYNC STREAM BÃSICO
// ==================================================================================
System.Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
System.Console.WriteLine("ğŸŒŠ DEMO 1: Async Stream BÃ¡sico");
System.Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
System.Console.WriteLine();

await foreach (var tenista in service.GetTenistasStreamAsync())
{
    System.Console.WriteLine($"  â†’ {tenista}");
}

System.Console.WriteLine();

// ==================================================================================
// DEMO 2: FILTRADO ASÃNCRONO
// ==================================================================================
System.Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
System.Console.WriteLine("ğŸ” DEMO 2: Filtrado AsÃ­ncrono");
System.Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
System.Console.WriteLine();

System.Console.WriteLine("Tenistas espaÃ±oles:");
await foreach (var tenista in service.FiltrarPorPaisAsync("EspaÃ±a"))
{
    System.Console.WriteLine($"  â†’ {tenista}");
}

System.Console.WriteLine();

// ==================================================================================
// DEMO 3: MAPEO ASÃNCRONO
// ==================================================================================
System.Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
System.Console.WriteLine("ğŸ”„ DEMO 3: Mapeo AsÃ­ncrono");
System.Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
System.Console.WriteLine();

System.Console.WriteLine("Solo nombres:");
await foreach (var nombre in service.MapearANombresAsync())
{
    System.Console.WriteLine($"  â†’ {nombre}");
}

System.Console.WriteLine();

// ==================================================================================
// RESUMEN
// ==================================================================================
System.Console.WriteLine("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
System.Console.WriteLine("â•‘  ğŸ“š COMPARACIÃ“N Java Streams vs IAsyncEnumerable                   â•‘");
System.Console.WriteLine("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
System.Console.WriteLine();
System.Console.WriteLine("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”");
System.Console.WriteLine("â”‚ JAVA (Stream<T>)                â”‚ C# (IAsyncEnumerable<T>)      â”‚");
System.Console.WriteLine("â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤");
System.Console.WriteLine("â”‚ Stream<T>                       â”‚ IAsyncEnumerable<T>           â”‚");
System.Console.WriteLine("â”‚ stream.forEach()                â”‚ await foreach                 â”‚");
System.Console.WriteLine("â”‚ stream.filter()                 â”‚ await foreach con if          â”‚");
System.Console.WriteLine("â”‚ stream.map()                    â”‚ await foreach con yield       â”‚");
System.Console.WriteLine("â”‚ stream.collect()                â”‚ ToListAsync() (LINQ async)    â”‚");
System.Console.WriteLine("â”‚ (sÃ­ncrono o bloqueante)         â”‚ completamente asÃ­ncrono       â”‚");
System.Console.WriteLine("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜");
System.Console.WriteLine();
System.Console.WriteLine("ğŸ’¡ VENTAJAS de IAsyncEnumerable:");
System.Console.WriteLine("  âœ… Streaming verdaderamente asÃ­ncrono");
System.Console.WriteLine("  âœ… Eficiente en memoria (lazy evaluation)");
System.Console.WriteLine("  âœ… Ideal para I/O operations (BD, API, archivos)");
System.Console.WriteLine("  âœ… ComposiciÃ³n con LINQ asÃ­ncrono");
System.Console.WriteLine("  âœ… Backpressure automÃ¡tico");
System.Console.WriteLine();

System.Console.WriteLine("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
System.Console.WriteLine("â•‘  âœ¨ Ejemplo completado - Async Streams                              â•‘");
System.Console.WriteLine("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
